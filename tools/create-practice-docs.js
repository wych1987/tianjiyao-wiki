#!/usr/bin/env node

/**
 * åˆ›å»ºå®è·µåº”ç”¨æ¨¡å—
 * æä¾›å®ç”¨çš„å­¦ä¹ æŒ‡å¯¼å’Œæ¡ˆä¾‹åˆ†æ
 */

require('dotenv').config();
const axios = require('axios');
const fs = require('fs');
const path = require('path');

const DEEPSEEK_API_KEY = process.env.DEEPSEEK_API_KEY;
const DEEPSEEK_API_URL = 'https://api.deepseek.com/v1/chat/completions';

// å®è·µåº”ç”¨æ¨¡å—æ–‡æ¡£é…ç½®
const practiceDocs = [
  {
    filename: 'case-studies.md',
    dir: 'docs/practice',
    title: 'ç»å…¸å‘½ç†æ¡ˆä¾‹åˆ†æï¼šä»ç†è®ºåˆ°å®è·µçš„æ·±åº¦è§£è¯»',
    description: 'ç²¾é€‰å…«å­—å‘½ç†å’Œç´«å¾®æ–—æ•°çš„ç»å…¸æ¡ˆä¾‹ï¼Œè¯¦ç»†è§£æåˆ†æè¿‡ç¨‹å’Œåˆ¤æ–­ä¾æ®ï¼Œæå‡å®æˆ˜èƒ½åŠ›',
    keywords: ['æ¡ˆä¾‹åˆ†æ', 'å®æˆ˜æ¡ˆä¾‹', 'å‘½ç†å®è·µ', 'å…«å­—æ¡ˆä¾‹', 'ç´«å¾®æ¡ˆä¾‹', 'åˆ¤æ–­æŠ€å·§', 'åˆ†ææ–¹æ³•'],
    prompt: `è¯·æ’°å†™ä¸€ç¯‡å…³äº"ç»å…¸å‘½ç†æ¡ˆä¾‹åˆ†æ"çš„å®è·µæ•™å­¦æ–‡ç« ï¼Œè¦æ±‚ï¼š

1. **æ¡ˆä¾‹åˆ†ææ–¹æ³•è®º**ï¼š
   - æ¡ˆä¾‹åˆ†æçš„åŸºæœ¬æ­¥éª¤
   - ä¿¡æ¯æ”¶é›†å’Œæ•´ç†
   - åˆ†ææ¡†æ¶çš„å»ºç«‹
   - ç»“è®ºéªŒè¯æ–¹æ³•
2. **å…«å­—å‘½ç†æ¡ˆä¾‹**ï¼ˆè‡³å°‘4ä¸ªå®Œæ•´æ¡ˆä¾‹ï¼‰ï¼š
   - æ¡ˆä¾‹ä¸€ï¼šä¼ä¸šå®¶å‘½ç›˜åˆ†æ
     * åŸºæœ¬ä¿¡æ¯å’Œå‘½ç›˜å±•ç¤º
     * æ ¼å±€å±‚æ¬¡åˆ¤æ–­
     * äº‹ä¸šå‘å±•è½¨è¿¹åˆ†æ
     * å¤§è¿æµå¹´éªŒè¯
     * å…³é”®å†³ç­–æ—¶é—´ç‚¹
   - æ¡ˆä¾‹äºŒï¼šå­¦è€…å‘½ç›˜åˆ†æ
     * å­¦æœ¯å‹å‘½æ ¼ç‰¹å¾
     * åç¥ç»„åˆè§£è¯»
     * å­¦ä¸šå‘å±•å†ç¨‹
     * ç ”ç©¶æ–¹å‘å¥‘åˆåº¦
   - æ¡ˆä¾‹ä¸‰ï¼šè‰ºæœ¯å®¶å‘½ç›˜åˆ†æ
     * åˆ›é€ åŠ›çš„å‘½ç†åŸºç¡€
     * é£Ÿä¼¤æ˜Ÿçš„ä½œç”¨
     * çµæ„Ÿä¸è¿åŠ¿çš„å…³ç³»
     * æˆåæ—¶æœºåˆ†æ
   - æ¡ˆä¾‹å››ï¼šå¤æ‚å©šå§»æ¡ˆä¾‹
     * å©šå§»å®«ä½åˆ†æ
     * é…å¶æ˜Ÿåˆ¤æ–­
     * æ„Ÿæƒ…å˜åŒ–è½¨è¿¹
     * åŒ–è§£æ–¹æ³•å»ºè®®
3. **ç´«å¾®æ–—æ•°æ¡ˆä¾‹**ï¼ˆè‡³å°‘3ä¸ªå®Œæ•´æ¡ˆä¾‹ï¼‰ï¼š
   - æ¡ˆä¾‹ä¸€ï¼šäº‹ä¸šæˆåŠŸå‘½ç›˜
     * å‘½å®«å’Œå®˜ç¦„å®«é…ç½®
     * è´¢å¸›å®«åˆ†æ
     * æ ¼å±€ç»„åˆåˆ¤æ–­
     * æˆåŠŸå› ç´ æ€»ç»“
   - æ¡ˆä¾‹äºŒï¼šæ³¢æŠ˜äººç”Ÿå‘½ç›˜
     * å‡¶æ ¼è¯†åˆ«
     * æŒ«æŠ˜æ—¶æœŸåˆ†æ
     * åŒ–è§£å’Œè½¬è¿
     * äººç”Ÿå¯ç¤º
   - æ¡ˆä¾‹ä¸‰ï¼šæ„Ÿæƒ…é¡ºé‚å‘½ç›˜
     * å¤«å¦»å®«å’Œç¦å¾·å®«
     * æ¡ƒèŠ±æ˜Ÿçš„ä½œç”¨
     * æ„Ÿæƒ…å‘å±•è¿‡ç¨‹
     * å©šå§»å¹¸ç¦è¦ç´ 
4. **ç»¼åˆåˆ†ææ¡ˆä¾‹**ï¼š
   - å…«å­—ä¸ç´«å¾®çš„å¯¹æ¯”åˆ†æ
   - ä¸åŒç³»ç»Ÿçš„äº’ç›¸å°è¯
   - ç»¼åˆåˆ¤æ–­çš„ä¼˜åŠ¿
5. **æ¡ˆä¾‹åˆ†æè¦ç‚¹æ€»ç»“**ï¼š
   - å‡†ç¡®ç‡çš„å½±å“å› ç´ 
   - å¸¸è§åˆ†æè¯¯åŒº
   - å¦‚ä½•æé«˜åˆ¤æ–­å‡†ç¡®åº¦
   - å®è·µç»éªŒåˆ†äº«
6. **å­¦ä¹ å»ºè®®**ï¼š
   - å¦‚ä½•ç§¯ç´¯æ¡ˆä¾‹ç»éªŒ
   - åˆ†æè®°å½•çš„é‡è¦æ€§
   - åæ€å’Œæ”¹è¿›æ–¹æ³•

è¦æ±‚ï¼š
- æ¡ˆä¾‹çœŸå®ã€å®Œæ•´
- åˆ†æè¿‡ç¨‹è¯¦ç»†
- é€»è¾‘æ¸…æ™°
- å­—æ•°6000-7000å­—`
  },
  {
    filename: 'self-learning.md',
    dir: 'docs/practice',
    title: 'å‘½ç†å­¦è‡ªå­¦æŒ‡å—ï¼šé›¶åŸºç¡€åˆ°ç²¾é€šçš„å®Œæ•´è·¯å¾„',
    description: 'ç³»ç»Ÿçš„å‘½ç†å­¦è‡ªå­¦è·¯çº¿å›¾ï¼ŒåŒ…æ‹¬å­¦ä¹ æ–¹æ³•ã€èµ„æºæ¨èã€é˜¶æ®µè§„åˆ’åŠå¸¸è§é—®é¢˜è§£ç­”',
    keywords: ['è‡ªå­¦æŒ‡å—', 'å­¦ä¹ è·¯å¾„', 'å…¥é—¨æ•™ç¨‹', 'å­¦ä¹ æ–¹æ³•', 'èµ„æºæ¨è', 'è¿›é˜¶æŠ€å·§', 'å‘½ç†å­¦ä¹ '],
    prompt: `è¯·æ’°å†™ä¸€ç¯‡å…³äº"å‘½ç†å­¦è‡ªå­¦æŒ‡å—"çš„å®Œæ•´æ•™ç¨‹æ–‡ç« ï¼Œè¦æ±‚ï¼š

1. **å­¦ä¹ å‰çš„å‡†å¤‡**ï¼š
   - æ­£ç¡®çš„å­¦ä¹ æ€åº¦
   - æ—¶é—´å’Œç²¾åŠ›æŠ•å…¥
   - å­¦ä¹ å·¥å…·å‡†å¤‡
   - å¿ƒç†å»ºè®¾
2. **å…¥é—¨é˜¶æ®µ**ï¼ˆ0-3ä¸ªæœˆï¼‰ï¼š
   - åŸºç¡€æ¦‚å¿µå­¦ä¹ 
     * é˜´é˜³äº”è¡Œç†è®º
     * å¤©å¹²åœ°æ”¯ç³»ç»Ÿ
     * å…«å­—åŸºç¡€
     * ç´«å¾®åŸºç¡€
   - å…¥é—¨ä¹¦ç±æ¨è
   - åœ¨çº¿è¯¾ç¨‹æ¨è
   - å­¦ä¹ è®¡åˆ’ç¤ºä¾‹
   - è‡ªæˆ‘æ£€æµ‹æ–¹æ³•
3. **åˆçº§é˜¶æ®µ**ï¼ˆ3-6ä¸ªæœˆï¼‰ï¼š
   - æ’ç›˜æŠ€èƒ½è®­ç»ƒ
   - åç¥ä½“ç³»å­¦ä¹ 
   - æ˜Ÿæ›œä½“ç³»å­¦ä¹ 
   - åŸºç¡€åˆ¤æ–­ç»ƒä¹ 
   - å®è·µç»ƒä¹ æ–¹æ³•
   - å­¦ä¹ è¿›åº¦è¯„ä¼°
4. **ä¸­çº§é˜¶æ®µ**ï¼ˆ6-12ä¸ªæœˆï¼‰ï¼š
   - æ ¼å±€ç†è®ºæ·±å…¥
   - å››åŒ–é£æ˜Ÿå­¦ä¹ 
   - å¤§è¿æµå¹´åˆ†æ
   - ç»¼åˆåˆ¤æ–­è®­ç»ƒ
   - æ¡ˆä¾‹ç ”ç©¶æ–¹æ³•
   - è¿›é˜¶ä¹¦ç±æ¨è
5. **é«˜çº§é˜¶æ®µ**ï¼ˆ1-2å¹´ï¼‰ï¼š
   - é«˜çº§æŠ€æ³•å­¦ä¹ 
   - ç‰¹æ®Šå‘½æ ¼ç ”ç©¶
   - é¢„æµ‹æŠ€å·§æå‡
   - è‡ªåˆ›åˆ†ææ–¹æ³•
   - ç†è®ºç ”ç©¶æ·±åŒ–
6. **å­¦ä¹ æ–¹æ³•è®º**ï¼š
   - ç†è®ºä¸å®è·µç»“åˆ
   - ç¬”è®°æ•´ç†æŠ€å·§
   - æ¡ˆä¾‹è®°å½•æ–¹æ³•
   - åæ€æ€»ç»“ä¹ æƒ¯
   - ä¸ä»–äººäº¤æµå­¦ä¹ 
7. **èµ„æºæ¨è**ï¼š
   - ç»å…¸ä¹¦ç±åˆ—è¡¨ï¼ˆé™„ç®€ä»‹ï¼‰
   - åœ¨çº¿å­¦ä¹ å¹³å°
   - å®ç”¨å·¥å…·è½¯ä»¶
   - å­¦ä¹ ç¤¾ç¾¤æ¨è
   - å­¦æœ¯æœŸåˆŠèµ„æº
8. **å¸¸è§å­¦ä¹ å›°éš¾**ï¼š
   - æ¦‚å¿µç†è§£å›°éš¾çš„çªç ´
   - è®°å¿†é‡å¤§çš„åº”å¯¹
   - å®è·µæœºä¼šå°‘çš„è§£å†³
   - å‡†ç¡®ç‡ä½çš„æ”¹è¿›
   - å­¦ä¹ ç“¶é¢ˆçš„çªç ´
9. **è¿›é˜¶æ–¹å‘**ï¼š
   - ä¸“ä¸šå’¨è¯¢å¸ˆ
   - å­¦æœ¯ç ”ç©¶è€…
   - æŠ€æœ¯å¼€å‘è€…
   - æ–‡åŒ–ä¼ æ’­è€…
10. **å­¦ä¹ è¯¯åŒºè­¦ç¤º**ï¼š
    - è¿‡åº¦è¿·ä¿¡
    - æ€¥åŠŸè¿‘åˆ©
    - æ­»è®°ç¡¬èƒŒ
    - é—­é—¨é€ è½¦
    - å•†ä¸šé™·é˜±
11. **å­¦ä¹ é‡Œç¨‹ç¢‘**ï¼š
    - 3ä¸ªæœˆç›®æ ‡
    - 6ä¸ªæœˆç›®æ ‡
    - 1å¹´ç›®æ ‡
    - 2å¹´ç›®æ ‡
    - é•¿æœŸå‘å±•

è¦æ±‚ï¼š
- å®ç”¨æ€§å¼º
- è·¯å¾„æ¸…æ™°
- èµ„æºè¯¦å®
- å­—æ•°5000-6000å­—`
  },
  {
    filename: 'common-mistakes.md',
    dir: 'docs/practice',
    title: 'å‘½ç†å­¦ä¹ å¸¸è§è¯¯åŒºè§£æï¼šé¿å‘æŒ‡å—',
    description: 'å…¨é¢æ¢³ç†å‘½ç†å­¦ä¹ å’Œå®è·µä¸­çš„å¸¸è§é”™è¯¯ï¼Œå¸®åŠ©å­¦ä¹ è€…å°‘èµ°å¼¯è·¯ï¼Œå»ºç«‹æ­£ç¡®è®¤çŸ¥',
    keywords: ['å­¦ä¹ è¯¯åŒº', 'å¸¸è§é”™è¯¯', 'é¿å‘æŒ‡å—', 'æ­£ç¡®æ–¹æ³•', 'å‘½ç†è¯¯åŒº', 'ç†æ€§è®¤çŸ¥'],
    prompt: `è¯·æ’°å†™ä¸€ç¯‡å…³äº"å‘½ç†å­¦ä¹ å¸¸è§è¯¯åŒº"çš„è­¦ç¤ºæ•™è‚²æ–‡ç« ï¼Œè¦æ±‚ï¼š

1. **è®¤çŸ¥è¯¯åŒº**ï¼š
   - è¯¯åŒºä¸€ï¼šå‘½ç†æ˜¯å°å»ºè¿·ä¿¡
     * æ­£ç¡®è®¤çŸ¥
     * æ–‡åŒ–ä¼ æ‰¿ä»·å€¼
     * ç°ä»£ç ”ç©¶æ„ä¹‰
   - è¯¯åŒºäºŒï¼šå‘½ç†èƒ½ç®—å‡†ä¸€åˆ‡
     * å‡†ç¡®ç‡çš„çœŸç›¸
     * å½±å“å› ç´ åˆ†æ
     * åˆç†æœŸæœ›è®¾å®š
   - è¯¯åŒºä¸‰ï¼šå‘½ç†å†³å®šå‘½è¿
     * å‘½è¿ä¸åŠªåŠ›çš„å…³ç³»
     * è‡ªç”±æ„å¿—çš„ä½œç”¨
     * è¶‹å‰é¿å‡¶çš„æœ¬è´¨
2. **å­¦ä¹ è¯¯åŒº**ï¼š
   - è¯¯åŒºä¸€ï¼šåªå­¦ç†è®ºä¸å®è·µ
     * å±å®³åˆ†æ
     * ç†è®ºå®è·µå¹³è¡¡
     * å®è·µæ–¹æ³•å»ºè®®
   - è¯¯åŒºäºŒï¼šæ€¥äºæ±‚æˆ
     * å­¦ä¹ è§„å¾‹
     * å¾ªåºæ¸è¿›çš„é‡è¦æ€§
     * åˆç†æ—¶é—´è§„åˆ’
   - è¯¯åŒºä¸‰ï¼šæ­»è®°ç¡¬èƒŒ
     * ç†è§£çš„é‡è¦æ€§
     * è®°å¿†æŠ€å·§
     * æ´»å­¦æ´»ç”¨æ–¹æ³•
   - è¯¯åŒºå››ï¼šåªå­¦ä¸€å®¶ä¹‹è¨€
     * åšé‡‡ä¼—é•¿çš„å¿…è¦æ€§
     * å…¼å®¹å¹¶è“„çš„æ€åº¦
     * å½¢æˆè‡ªå·±çš„ä½“ç³»
3. **åˆ¤æ–­è¯¯åŒº**ï¼š
   - è¯¯åŒºä¸€ï¼šåªçœ‹æ ¼å±€ä¸çœ‹æ•´ä½“
   - è¯¯åŒºäºŒï¼šè¿‡åº¦å¼ºè°ƒæ˜Ÿæ›œä½œç”¨
   - è¯¯åŒºä¸‰ï¼šå¿½è§†å¤§è¿æµå¹´
   - è¯¯åŒºå››ï¼šä¸è€ƒè™‘ç°å®ç¯å¢ƒ
   - è¯¯åŒºäº”ï¼šæœºæ¢°å¥—ç”¨å¤è¯€
4. **å®è·µè¯¯åŒº**ï¼š
   - è¯¯åŒºä¸€ï¼šè¿‡åº¦ä¾èµ–è½¯ä»¶æ’ç›˜
     * è½¯ä»¶çš„å±€é™æ€§
     * äººå·¥åˆ†æçš„ä»·å€¼
     * å·¥å…·ä¸æ€ç»´çš„å¹³è¡¡
   - è¯¯åŒºäºŒï¼šç»™äººç®—å‘½è¯´è¯å¤ªç»å¯¹
     * è¯­è¨€è‰ºæœ¯çš„é‡è¦æ€§
     * ç•™æœ‰ä½™åœ°çš„æ™ºæ…§
     * ç§¯æå¼•å¯¼çš„æ–¹æ³•
   - è¯¯åŒºä¸‰ï¼šä¸é¡¾ä¼¦ç†éšæ„æ‰¹å‘½
     * èŒä¸šé“å¾·
     * éšç§ä¿æŠ¤
     * è´£ä»»æ„è¯†
5. **å•†ä¸šè¯¯åŒº**ï¼š
   - è¯¯åŒºä¸€ï¼šå¤©ä»·æ”¶è´¹
   - è¯¯åŒºäºŒï¼šå¤¸å¤§æ•ˆæœ
   - è¯¯åŒºä¸‰ï¼šæ¨é”€äº§å“
   - è¯¯åŒºå››ï¼šåˆ¶é€ ç„¦è™‘
6. **æŠ€æœ¯è¯¯åŒº**ï¼š
   - è¯¯åŒºä¸€ï¼šå‡ºç”Ÿæ—¶é—´è¯¯å·®çš„å¿½è§†
   - è¯¯åŒºäºŒï¼šèŠ‚æ°”æ—¶é—´çš„é”™è¯¯ç†è§£
   - è¯¯åŒºä¸‰ï¼šåœ°æ”¯è—å¹²çš„éšæ„ä½¿ç”¨
   - è¯¯åŒºå››ï¼šç¥ç…çš„æ»¥ç”¨
7. **å¿ƒæ€è¯¯åŒº**ï¼š
   - è¯¯åŒºä¸€ï¼šè‡ªå·±å‘½ä¸å¥½å°±æ¶ˆæ
   - è¯¯åŒºäºŒï¼šè¿‡åº¦æ²‰è¿·å‘½ç†
   - è¯¯åŒºä¸‰ï¼šæ’æ–¥ç§‘å­¦éªŒè¯
   - è¯¯åŒºå››ï¼šå°é—­å›ºæ‰§å·±è§
8. **æ¡ˆä¾‹è­¦ç¤º**ï¼š
   - çœŸå®è¯¯åŒºæ¡ˆä¾‹åˆ†äº«
   - é”™è¯¯åæœåˆ†æ
   - æ­£ç¡®å¤„ç†æ–¹æ³•
9. **çº æ­£æ–¹æ³•**ï¼š
   - å¦‚ä½•å‘ç°è‡ªå·±çš„è¯¯åŒº
   - çº æ­£è¯¯åŒºçš„æ­¥éª¤
   - å»ºç«‹æ­£ç¡®è®¤çŸ¥æ¡†æ¶
10. **å»ºè®®ä¸å¿ å‘Š**ï¼š
    - å¯¹åˆå­¦è€…çš„å»ºè®®
    - å¯¹è¿›é˜¶è€…çš„å»ºè®®
    - å¯¹å®è·µè€…çš„å»ºè®®

è¦æ±‚ï¼š
- å®¢è§‚ç†æ€§
- æ¡ˆä¾‹çœŸå®
- å»ºè®®ä¸­è‚¯
- å­—æ•°4500-5500å­—`
  },
  {
    filename: 'tools-resources.md',
    dir: 'docs/practice',
    title: 'å‘½ç†å­¦ä¹ å·¥å…·ä¸èµ„æºå¤§å…¨ï¼šæ•ˆç‡æå‡æŒ‡å—',
    description: 'æ±‡æ€»å‘½ç†å­¦ä¹ å¿…å¤‡çš„å·¥å…·è½¯ä»¶ã€ä¹¦ç±èµ„æºã€åœ¨çº¿å¹³å°åŠå­¦ä¹ ç¤¾ç¾¤ï¼ŒåŠ©åŠ›é«˜æ•ˆå­¦ä¹ ',
    keywords: ['å­¦ä¹ å·¥å…·', 'è½¯ä»¶æ¨è', 'ä¹¦ç±èµ„æº', 'åœ¨çº¿å¹³å°', 'å­¦ä¹ èµ„æº', 'æ•ˆç‡æå‡'],
    prompt: `è¯·æ’°å†™ä¸€ç¯‡å…³äº"å‘½ç†å­¦ä¹ å·¥å…·ä¸èµ„æº"çš„ç»¼åˆæŒ‡å—æ–‡ç« ï¼Œè¦æ±‚ï¼š

1. **æ’ç›˜å·¥å…·**ï¼š
   - åœ¨çº¿æ’ç›˜å·¥å…·
     * å¤©æœºçˆ»æ’ç›˜ç³»ç»Ÿï¼ˆé‡ç‚¹æ¨èï¼‰
     * å…¶ä»–ä¸»æµæ’ç›˜ç½‘ç«™
     * åŠŸèƒ½å¯¹æ¯”åˆ†æ
   - æ‰‹æœºAPP
     * iOSå¹³å°æ¨è
     * Androidå¹³å°æ¨è
     * åŠŸèƒ½ç‰¹è‰²ä»‹ç»
   - æ¡Œé¢è½¯ä»¶
     * Windowsè½¯ä»¶
     * Macè½¯ä»¶
     * ä¸“ä¸šç‰ˆè½¯ä»¶
   - å·¥å…·é€‰æ‹©å»ºè®®
2. **å­¦ä¹ ä¹¦ç±**ï¼š
   - å…«å­—å‘½ç†ä¹¦ç±
     * å…¥é—¨çº§ï¼ˆé™„ç®€ä»‹å’Œæ¨èç†ç”±ï¼‰
     * è¿›é˜¶çº§
     * é«˜çº§ç ”ç©¶
     * å¤ç±ç»å…¸
   - ç´«å¾®æ–—æ•°ä¹¦ç±
     * åŸºç¡€æ•™æ
     * è¿›é˜¶è¯»ç‰©
     * ä¸“é¢˜ç ”ç©¶
     * ç°ä»£è§£è¯»
   - åŸºç¡€ç†è®ºä¹¦ç±
     * é˜´é˜³äº”è¡Œ
     * æ˜“ç»ç ”ç©¶
     * ä¸­åŒ»ç†è®º
   - è·¨å­¦ç§‘ä¹¦ç±
     * å¿ƒç†å­¦ç›¸å…³
     * ç»Ÿè®¡å­¦ç›¸å…³
     * AIæŠ€æœ¯ç›¸å…³
3. **åœ¨çº¿å­¦ä¹ å¹³å°**ï¼š
   - è§†é¢‘è¯¾ç¨‹å¹³å°
     * å„å¹³å°ç‰¹è‰²è¯¾ç¨‹
     * è®²å¸ˆæ¨è
     * ä»·æ ¼å‚è€ƒ
   - çŸ¥è¯†ä»˜è´¹å¹³å°
   - å­¦æœ¯è®ºæ–‡åº“
   - ä¸“ä¸šè®ºå›ç¤¾åŒº
4. **å®è·µå·¥å…·**ï¼š
   - ç¬”è®°è½¯ä»¶
     * Notionæ¨¡æ¿
     * å°è±¡ç¬”è®°ä½¿ç”¨
     * ObsidiançŸ¥è¯†åº“
   - æ¡ˆä¾‹ç®¡ç†å·¥å…·
   - æ•°æ®åˆ†æå·¥å…·
   - æ€ç»´å¯¼å›¾å·¥å…·
5. **æŠ€æœ¯å·¥å…·**ï¼ˆé¢å‘æŠ€æœ¯çˆ±å¥½è€…ï¼‰ï¼š
   - Pythonå‘½ç†åº“
   - æ•°æ®å¯è§†åŒ–å·¥å…·
   - APIæ¥å£èµ„æº
   - å¼€æºé¡¹ç›®æ¨è
6. **å­¦ä¹ ç¤¾ç¾¤**ï¼š
   - åœ¨çº¿å­¦ä¹ ç¾¤
   - ä¸“ä¸šè®ºå›
   - ç¤¾äº¤åª’ä½“è´¦å·
   - çº¿ä¸‹æ´»åŠ¨ç»„ç»‡
7. **ä¿¡æ¯æ¥æº**ï¼š
   - ä¸“ä¸šç½‘ç«™
   - å…¬ä¼—å·æ¨è
   - åšå®¢åšä¸»
   - è§†é¢‘UPä¸»
8. **å­¦ä¹ èµ„æ–™åº“**ï¼š
   - ç”µå­ä¹¦èµ„æºï¼ˆåˆæ³•é€”å¾„ï¼‰
   - è§†é¢‘æ•™ç¨‹èµ„æº
   - æ¡ˆä¾‹åº“èµ„æº
   - æ•°æ®é›†èµ„æº
9. **æ•ˆç‡æå‡æ–¹æ³•**ï¼š
   - å·¥å…·ç»„åˆä½¿ç”¨
   - å­¦ä¹ æµç¨‹ä¼˜åŒ–
   - æ—¶é—´ç®¡ç†æŠ€å·§
   - çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ
10. **èµ„æºè·å–æŒ‡å—**ï¼š
    - å…è´¹èµ„æºè·å–
    - ä»˜è´¹èµ„æºé€‰æ‹©
    - èµ„æºçœŸä¼ªé‰´åˆ«
    - ç‰ˆæƒæ„è¯†
11. **æŒç»­å­¦ä¹ æ–¹æ¡ˆ**ï¼š
    - è®¢é˜…æ¨è
    - æ›´æ–°è·Ÿè¸ª
    - äº¤æµæ¸ é“
    - æˆé•¿è®°å½•

è¦æ±‚ï¼š
- èµ„æºä¸°å¯Œ
- åˆ†ç±»æ¸…æ™°
- å®ç”¨æ€§å¼º
- å­—æ•°4500-5500å­—`
  }
];

// å­¦æœ¯èµ„æºé…ç½®
const academicResources = {
  practice: [
    'ã€Šæ¸Šæµ·å­å¹³ã€‹å®è·µæ¡ˆä¾‹',
    'ã€Šä¸‰å‘½é€šä¼šã€‹ç»å…¸æ¡ˆä¾‹',
    'ã€Šæ»´å¤©é«“ã€‹ç†è®ºåº”ç”¨',
    'ã€Šå­å¹³çœŸè¯ ã€‹åˆ†ææ–¹æ³•',
    'ã€Šç´«å¾®æ–—æ•°å…¨ä¹¦ã€‹å®è·µæŒ‡å—',
    'ç°ä»£å‘½ç†å¸ˆç»éªŒæ€»ç»“',
    'æ•™è‚²å­¦å­¦ä¹ ç†è®º',
    'è®¤çŸ¥å¿ƒç†å­¦ç ”ç©¶æˆæœ',
    'æŠ€èƒ½å­¦ä¹ ç§‘å­¦æ–¹æ³•è®º'
  ]
};

async function generateContent(docConfig) {
  console.log(`\nğŸ”„ æ­£åœ¨ç”Ÿæˆ: ${docConfig.title}`);
  
  const systemPrompt = `ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„å‘½ç†å­¦æ•™è‚²ä¸“å®¶å’Œå®è·µè€…ã€‚
ä½ çš„ä»»åŠ¡æ˜¯æ’°å†™é«˜è´¨é‡çš„å®è·µæŒ‡å¯¼æ–‡ç« ï¼Œè¦æ±‚ï¼š
1. å®ç”¨æ€§å¼ºï¼ŒçœŸæ­£èƒ½å¸®åŠ©å­¦ä¹ è€…
2. æ–¹æ³•ç§‘å­¦ï¼Œç¬¦åˆå­¦ä¹ è§„å¾‹
3. æ¡ˆä¾‹çœŸå®ï¼Œè´´è¿‘å®é™…æƒ…å†µ
4. æ€åº¦å®¢è§‚ï¼Œé¿å…å¤¸å¤§æˆ–è¯¯å¯¼
5. èµ„æºä¸°å¯Œï¼Œä¿¡æ¯å…¨é¢å‡†ç¡®
6. è¡¨è¾¾æ¸…æ™°ï¼Œé€šä¿—æ˜“æ‡‚

å¯å‚è€ƒçš„èµ„æºï¼š
${academicResources.practice.map(r => `- ${r}`).join('\n')}

è¯·ç¡®ä¿å†…å®¹çš„å®ç”¨æ€§å’Œå¯æ“ä½œæ€§ã€‚`;

  try {
    const response = await axios.post(
      DEEPSEEK_API_URL,
      {
        model: 'deepseek-chat',
        messages: [
          { role: 'system', content: systemPrompt },
          { role: 'user', content: docConfig.prompt }
        ],
        temperature: 0.7,
        max_tokens: 8000
      },
      {
        headers: {
          'Authorization': `Bearer ${DEEPSEEK_API_KEY}`,
          'Content-Type': 'application/json'
        },
        timeout: 120000
      }
    );

    return response.data.choices[0].message.content;
  } catch (error) {
    console.error(`âŒ APIè°ƒç”¨å¤±è´¥:`, error.message);
    throw error;
  }
}

function createMarkdownFile(docConfig, content) {
  const frontMatter = `---
layout: default
title: ${docConfig.title}
description: ${docConfig.description}
keywords: [${docConfig.keywords.join(', ')}]
author: å‘½ç†å­¦ä¹ æŒ‡å¯¼å›¢é˜Ÿ
date: ${new Date().toISOString().split('T')[0]}
categories: [å®è·µåº”ç”¨, å­¦ä¹ æŒ‡å¯¼]
---

`;

  const relatedLinks = `

---

## ğŸ“š ç›¸å…³é˜…è¯»

- [å…«å­—å‘½ç†å…¥é—¨](../bazi/introduction.md)
- [ç´«å¾®æ–—æ•°æ¦‚è®º](../ziwei/index.md)
- [AIè¾…åŠ©å­¦ä¹ ](../ai/ai-introduction.md)
- [è¿”å›é¦–é¡µ](../index.md)
`;

  const fullContent = frontMatter + content + relatedLinks;
  const filePath = path.join(__dirname, docConfig.dir, docConfig.filename);
  
  // ç¡®ä¿ç›®å½•å­˜åœ¨
  const dir = path.dirname(filePath);
  if (!fs.existsSync(dir)) {
    fs.mkdirSync(dir, { recursive: true });
  }
  
  fs.writeFileSync(filePath, fullContent, 'utf-8');
  console.log(`âœ… å·²åˆ›å»º: ${docConfig.dir}/${docConfig.filename}`);
}

async function main() {
  console.log('ğŸ“š å¼€å§‹åˆ›å»ºå®è·µåº”ç”¨æ¨¡å—æ–‡æ¡£...\n');
  console.log(`ğŸ“‹ è®¡åˆ’åˆ›å»º ${practiceDocs.length} ä¸ªæ–‡æ¡£\n`);

  if (!DEEPSEEK_API_KEY) {
    console.error('âŒ é”™è¯¯: æœªæ‰¾åˆ°DEEPSEEK_API_KEYç¯å¢ƒå˜é‡');
    console.log('ğŸ’¡ è¯·åœ¨.envæ–‡ä»¶ä¸­è®¾ç½®: DEEPSEEK_API_KEY=your_key_here');
    process.exit(1);
  }

  let successCount = 0;
  let failCount = 0;

  for (const docConfig of practiceDocs) {
    try {
      const content = await generateContent(docConfig);
      createMarkdownFile(docConfig, content);
      successCount++;
      
      // é¿å…APIé™æµ
      console.log('â³ ç­‰å¾…2ç§’ä»¥é¿å…APIé™æµ...');
      await new Promise(resolve => setTimeout(resolve, 2000));
    } catch (error) {
      console.error(`âŒ åˆ›å»º ${docConfig.filename} å¤±è´¥:`, error.message);
      failCount++;
    }
  }

  console.log('\n' + '='.repeat(60));
  console.log('ğŸ“Š å®è·µåº”ç”¨æ¨¡å—åˆ›å»ºå®Œæˆç»Ÿè®¡:');
  console.log(`   âœ… æˆåŠŸ: ${successCount} ä¸ªæ–‡æ¡£`);
  console.log(`   âŒ å¤±è´¥: ${failCount} ä¸ªæ–‡æ¡£`);
  console.log('='.repeat(60));

  if (successCount > 0) {
    console.log('\nğŸ’¡ ä¸‹ä¸€æ­¥å»ºè®®:');
    console.log('   1. è¿è¡Œ npm run analyze æ£€æŸ¥æ–‡æ¡£è´¨é‡');
    console.log('   2. å®¡é˜…ç”Ÿæˆçš„å†…å®¹');
    console.log('   3. è¿è¡Œ npm run create-theory-docs åˆ›å»ºç†è®ºæ¨¡å—');
  }
}

main().catch(console.error);
