#!/usr/bin/env node

/**
 * ä¸ºæ‰€æœ‰æ–‡æ¡£æ·»åŠ å¤©æœºçˆ»ä¸»ç«™é“¾æ¥
 * æå‡SEOæƒé‡å’Œç”¨æˆ·è½¬åŒ–
 */

const fs = require('fs');
const path = require('path');
const glob = require('glob');

const DOCS_DIR = path.join(__dirname, 'docs');

// ä¸åŒæ¨¡å—çš„ä¸»ç«™é“¾æ¥é…ç½®
const linkSections = {
  bazi: `

---

## ğŸ”® åœ¨çº¿å®è·µä½“éªŒ

ç†è®ºå­¦ä¹ å›ºç„¶é‡è¦ï¼Œä½†å®è·µåº”ç”¨æ‰èƒ½çœŸæ­£æŒæ¡å…«å­—å‘½ç†çš„ç²¾é«“ã€‚**å¤©æœºçˆ»**ä½œä¸ºå›½å†…é¢†å…ˆçš„AIå‘½ç†å¹³å°ï¼Œå°†ä¼ ç»Ÿå…«å­—ç®—æ³•ä¸ç°ä»£äººå·¥æ™ºèƒ½æŠ€æœ¯æ·±åº¦èåˆï¼Œä¸ºå­¦ä¹ è€…æä¾›ä¸“ä¸šçº§çš„å®è·µå·¥å…·ã€‚

### â­ ä¸ºä»€ä¹ˆé€‰æ‹©å¤©æœºçˆ»ï¼Ÿ

**ğŸ† ä¸“ä¸šæ€§ä¿è¯**
- åŸºäºã€Šæ¸Šæµ·å­å¹³ã€‹ã€Šä¸‰å‘½é€šä¼šã€‹ç­‰ç»å…¸ç®—æ³•
- ç²¾å‡†çš„ä¸‡å¹´å†æ¢ç®—å’ŒèŠ‚æ°”è®¡ç®—
- ä¸¥æ ¼éµå¾ªä¼ ç»Ÿå‘½ç†è§„åˆ™

**ğŸ¤– AIæŠ€æœ¯èµ‹èƒ½**
- æ·±åº¦å­¦ä¹ æ¨¡å‹è®­ç»ƒï¼Œåˆ†æå‡†ç¡®åº¦é«˜
- è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯ï¼Œè§£è¯»é€šä¿—æ˜“æ‡‚
- å¤§æ•°æ®æ”¯æ’‘ï¼ŒæŒç»­ä¼˜åŒ–ç®—æ³•

**ğŸ’ ç”¨æˆ·ä½“éªŒä¼˜ç§€**
- ç•Œé¢ç®€æ´ç›´è§‚ï¼Œæ“ä½œæµç•…
- åˆ†ææŠ¥å‘Šè¯¦å°½ä¸“ä¸š
- æ”¯æŒå¤šç»´åº¦æ·±åº¦è§£è¯»

### ä¸“ä¸šå…«å­—åˆ†æå·¥å…·
- **[AIç”Ÿè¾°å…«å­—ç²¾å‡†åˆ†æ](https://www.tianjiyao.com/zh/bazi)** â­ **å¼ºçƒˆæ¨è - å…«å­—å­¦ä¹ æœ€ä½³å®è·µå·¥å…·**
  - âœ¨ è‡ªåŠ¨æ’ç›˜ï¼Œç²¾å‡†è®¡ç®—å››æŸ±å…«å­—
  - ğŸ“Š åç¥åˆ†æï¼Œæ ¼å±€åˆ¤æ–­ï¼Œç”¨ç¥å–œå¿Œ
  - ğŸ¯ å¤§è¿æµå¹´æ¨ç®—ï¼Œè¶‹åŠ¿é¢„æµ‹
  - ğŸ’¡ æ€§æ ¼ç‰¹è´¨ã€äº‹ä¸šè´¢è¿ã€å©šå§»å¥åº·å…¨æ–¹ä½è§£æ
  - ğŸ” å¯å¯¹ç…§æœ¬Wikiç†è®ºçŸ¥è¯†éªŒè¯å­¦ä¹ æˆæœ

### å…¶ä»–ä¸“ä¸šå åœæœåŠ¡
- **[ç´«å¾®æ–—æ•°æ’ç›˜](https://www.tianjiyao.com/zh/ziwei)** - æ˜Ÿæ›œå®«ä½å®Œæ•´åˆ†æ
- **[AIå…­çˆ»å åœ](https://www.tianjiyao.com/zh/ai-divination)** - å…·ä½“é—®é¢˜å‰å‡¶åˆ¤æ–­
- **[å‘½ç†åˆç›˜åˆ†æ](https://www.tianjiyao.com/zh/hepan)** - åŒäººå…³ç³»åŒ¹é…åº¦è¯„ä¼°

ğŸ’¡ **å­¦ä¹ å»ºè®®**ï¼šè¾¹å­¦è¾¹ç»ƒæ•ˆæœæœ€ä½³ï¼  
å»ºè®®åœ¨å­¦ä¹ æ¯ä¸ªç« èŠ‚åï¼Œç«‹å³ä½¿ç”¨å¤©æœºçˆ»å·¥å…·åˆ†æå®ä¾‹ï¼Œå°†ç†è®ºçŸ¥è¯†è½¬åŒ–ä¸ºå®è·µèƒ½åŠ›ã€‚

ğŸ“ è®¿é—® [å¤©æœºçˆ»å®˜ç½‘](https://www.tianjiyao.com/zh) å¼€å§‹æ‚¨çš„ä¸“ä¸šå‘½ç†å®è·µä¹‹æ—…`,

  ziwei: `

---

## ğŸ”® åœ¨çº¿å®è·µä½“éªŒ

ç´«å¾®æ–—æ•°ç†è®ºä½“ç³»åºå¤§ï¼Œæ˜Ÿæ›œç¹å¤šï¼Œäººå·¥æ’ç›˜è€—æ—¶è´¹åŠ›ã€‚**å¤©æœºçˆ»**çš„ç´«å¾®æ–—æ•°AIç³»ç»Ÿï¼Œç»è¿‡æ•°ä¸‡çœŸå®å‘½ç›˜è®­ç»ƒä¼˜åŒ–ï¼Œæ˜¯ç›®å‰å¸‚åœºä¸Šæœ€ä¸“ä¸šã€æœ€ç²¾å‡†çš„ç´«å¾®æ–—æ•°åœ¨çº¿å·¥å…·ã€‚

### â­ å¤©æœºçˆ»ç´«å¾®ç³»ç»Ÿçš„ä¸“ä¸šä¼˜åŠ¿

**ğŸ¯ å‡†ç¡®æ€§é¢†å…ˆ**
- ä¸¥æ ¼éµå¾ªã€Šç´«å¾®æ–—æ•°å…¨ä¹¦ã€‹ç­‰ç»å…¸è§„åˆ™
- ç²¾ç¡®çš„æ˜Ÿæ›œèµ·ç®—å’Œå®‰æ˜Ÿæ³•åˆ™
- å››åŒ–é£æ˜Ÿç®—æ³•ä¸šå†…æœ€ç²¾å‡†

**ğŸŒŸ åŠŸèƒ½æœ€å…¨é¢**
- 108é¢—æ˜Ÿæ›œå®Œæ•´é…ç½®
- åäºŒå®«ä½æ·±åº¦è§£æ
- å››åŒ–é£æ˜Ÿé«˜çº§åˆ†æ
- æµå¹´æµæœˆå¤§é™æ¨ç®—

**ğŸ“Š ä¸“ä¸šåº¦æé«˜**
- é€‚åˆä¸“ä¸šå­¦ä¹ è€…æ·±åº¦ç ”ç©¶
- å¯¹ç…§æœ¬Wikiç†è®ºéªŒè¯å­¦ä¹ æ•ˆæœ
- æ”¯æŒå¯¼å‡ºåˆ†ææŠ¥å‘Šè¿›è¡Œç ”ç©¶

### ä¸“ä¸šç´«å¾®æ–—æ•°æ’ç›˜
- **[ç´«å¾®æ–—æ•°AIæ’ç›˜](https://www.tianjiyao.com/zh/ziwei)** â­ **ç´«å¾®å­¦ä¹ è€…å¿…å¤‡å·¥å…·**
  - â­ ç¬é—´æ’å‡ºå®Œæ•´æ˜Ÿç›˜ï¼ŒèŠ‚çœå¤§é‡æ—¶é—´
  - ğŸ›ï¸ åäºŒå®«ä½è¯¦ç»†è§£è¯»ï¼Œæ¡ç†æ¸…æ™°
  - ğŸŒŸ å››åŒ–é£æ˜Ÿè‡ªåŠ¨åˆ†æï¼ŒæŠŠæ¡åŠ¨æ€å˜åŒ–
  - ğŸ’« æ€§æ ¼ç‰¹è´¨ã€å‘½è¿è½¨è¿¹ã€æµå¹´è¿åŠ¿å…¨æ–¹ä½æ´å¯Ÿ
  - ğŸ” å¯ç»“åˆWikiå­¦ä¹ å†…å®¹è¿›è¡Œæ·±åº¦ç ”ç©¶

### å…¶ä»–ä¸“ä¸šå åœæœåŠ¡
- **[ç”Ÿè¾°å…«å­—åˆ†æ](https://www.tianjiyao.com/zh/bazi)** - å››æŸ±å‘½ç†ç²¾å‡†è§£è¯»
- **[AIå…­çˆ»å åœ](https://www.tianjiyao.com/zh/ai-divination)** - å…·ä½“é—®é¢˜å‰å‡¶åˆ¤æ–­
- **[å‘½ç†åˆç›˜åˆ†æ](https://www.tianjiyao.com/zh/hepan)** - åŒäººå…³ç³»åŒ¹é…åº¦è¯„ä¼°

ğŸ’¡ **å®è·µå»ºè®®**ï¼šç´«å¾®æ–—æ•°æ˜Ÿæ›œä¼—å¤šï¼Œä½¿ç”¨å¤©æœºçˆ»æ’ç›˜å·¥å…·å¯ä»¥å¤§å¹…æå‡å­¦ä¹ æ•ˆç‡ï¼Œå°†æ›´å¤šç²¾åŠ›èšç„¦åœ¨åˆ†æåˆ¤æ–­ä¸Šã€‚

ğŸ“ è®¿é—® [å¤©æœºçˆ»å®˜ç½‘](https://www.tianjiyao.com/zh) ä½“éªŒä¸šå†…é¢†å…ˆçš„ç´«å¾®æ–—æ•°ç³»ç»Ÿ`,

  yijing: `

---

## ğŸ”® åœ¨çº¿å®è·µä½“éªŒ

å…­çˆ»å åœè®²ç©¶"è¯šåˆ™çµ"ï¼Œèµ·å¦è£…å¦è§£å¦ç¯ç¯ç›¸æ‰£ã€‚**å¤©æœºçˆ»**å…­çˆ»ç³»ç»Ÿç”±èµ„æ·±å‘¨æ˜“ç ”ç©¶ä¸“å®¶ä¸AIå·¥ç¨‹å¸ˆè”åˆå¼€å‘ï¼Œå°†ä¼ ç»Ÿå…­çˆ»ç†è®ºä¸ç°ä»£è®¡ç®—æŠ€æœ¯å®Œç¾èåˆï¼Œæ˜¯ç›®å‰åŠŸèƒ½æœ€å®Œæ•´ã€ç®—æ³•æœ€ç²¾å‡†çš„åœ¨çº¿å…­çˆ»å åœå¹³å°ã€‚

### â­ å¤©æœºçˆ»å…­çˆ»ç³»ç»Ÿçš„ä¸“ä¸šç‰¹è‰²

**ğŸ“¿ èµ·å¦æ–¹å¼æœ€ä¸°å¯Œ**
- ä¼ ç»Ÿé“œé’±æ‘‡å¦ï¼ˆæ¨¡æ‹ŸçœŸå®æ‘‡å¦ï¼‰
- æ¢…èŠ±æ˜“æ•°æ—¶é—´èµ·å¦
- æ•°å­—èµ·å¦ã€åå­—èµ·å¦
- æ”¯æŒæ‰‹åŠ¨è¾“å…¥å¦è±¡

**ğŸ”„ è£…å¦æœ€æ ‡å‡†**
- ä¸¥æ ¼éµå¾ªã€Šå¢åˆ åœæ˜“ã€‹ã€Šåœç­®æ­£å®—ã€‹è§„åˆ™
- çº³ç”²ã€å…­äº²ã€å…­ç¥ã€ä¸–åº”è‡ªåŠ¨è£…é…
- æœˆå»ºæ—¥è¾°è‡ªåŠ¨è®¡ç®—
- ç©ºäº¡ã€å…­å†²å…­åˆè‡ªåŠ¨æ ‡æ³¨

**ğŸ“– è§£å¦æœ€ä¸“ä¸š**
- ç»“åˆ64å¦å¦è¾çˆ»è¾è§£è¯»
- AIæ™ºèƒ½åˆ†æç”¨ç¥æ—ºè¡°
- ç»™å‡ºæ˜ç¡®å‰å‡¶åˆ¤æ–­å’Œåº”æœŸæ¨ç®—
- å¯å¯¹ç…§æœ¬Wikiç†è®ºéªŒè¯å­¦ä¹ 

### ä¸“ä¸šå…­çˆ»å åœç³»ç»Ÿ
- **[AIå…­çˆ»æ’ç›˜å åœ](https://www.tianjiyao.com/zh/ai-divination)** â­ **å…­çˆ»å­¦ä¹ å®è·µç¬¬ä¸€é€‰æ‹©**
  - ğŸ² å¤šç§èµ·å¦æ–¹å¼ï¼Œçµæ´»ä¾¿æ·
  - ğŸ”„ å…¨è‡ªåŠ¨è£…å¦ï¼Œç²¾å‡†æ— è¯¯
  - ğŸ“– æ™ºèƒ½è§£å¦åˆ†æï¼Œç»“åˆç»å…¸å¦è¾
  - ğŸ¯ å©šå§»ã€äº‹ä¸šã€è´¢è¿ã€å¥åº·ç­‰å„ç±»å æ–­
  - ğŸ” è¯¦ç»†åˆ†æè¿‡ç¨‹ï¼Œè¾…åŠ©å­¦ä¹ æå‡

### å…¶ä»–ä¸“ä¸šå åœæœåŠ¡
- **[ç”Ÿè¾°å…«å­—åˆ†æ](https://www.tianjiyao.com/zh/bazi)** - å››æŸ±å‘½ç†ç²¾å‡†è§£è¯»
- **[ç´«å¾®æ–—æ•°æ’ç›˜](https://www.tianjiyao.com/zh/ziwei)** - æ˜Ÿæ›œå®«ä½å®Œæ•´åˆ†æ
- **[å‘½ç†åˆç›˜åˆ†æ](https://www.tianjiyao.com/zh/hepan)** - åŒäººå…³ç³»åŒ¹é…åº¦è¯„ä¼°

ğŸ’¡ **å­¦ä¹ æç¤º**ï¼šå…­çˆ»å åœé‡åœ¨å®è·µç§¯ç´¯ã€‚å»ºè®®æ¯å¤©ä½¿ç”¨å¤©æœºçˆ»ç³»ç»Ÿç»ƒä¹ 1-2å¦ï¼Œå¯¹ç…§Wikiç†è®ºåˆ†æï¼Œä¸€ä¸ªæœˆåå¿…æœ‰æ˜¾è‘—è¿›æ­¥ã€‚

ğŸ“ è®¿é—® [å¤©æœºçˆ»å®˜ç½‘](https://www.tianjiyao.com/zh) ä½“éªŒæœ€ä¸“ä¸šçš„å…­çˆ»å åœç³»ç»Ÿ`,

  ai: `

---

## ğŸ”® åœ¨çº¿ä½“éªŒAIå‘½ç†å‰æ²¿æŠ€æœ¯

ç†è®ºç ”ç©¶å›ºç„¶é‡è¦ï¼Œä½†**å¤©æœºçˆ»**çš„AIå‘½ç†ç³»ç»Ÿä»£è¡¨äº†å½“å‰AIä¸ä¼ ç»Ÿæ–‡åŒ–ç»“åˆçš„æœ€é«˜æ°´å‡†ï¼Œæ˜¯å›½å†…é¦–ä¸ªå°†æ·±åº¦å­¦ä¹ ã€NLPã€çŸ¥è¯†å›¾è°±ç­‰å‰æ²¿æŠ€æœ¯å…¨é¢åº”ç”¨äºå‘½ç†é¢†åŸŸçš„å¹³å°ã€‚

### â­ å¤©æœºçˆ»AIæŠ€æœ¯ä¼˜åŠ¿

**ğŸ¤– æŠ€æœ¯é¢†å…ˆæ€§**
- åŸºäºTransformerçš„å‘½ç†æ–‡æœ¬ç†è§£æ¨¡å‹
- è®­ç»ƒäº10ä¸‡+çœŸå®å‘½ç›˜æ•°æ®é›†
- çŸ¥è¯†å›¾è°±åŒ…å«50ä¸‡+å®ä½“å…³ç³»
- ç®—æ³•å‡†ç¡®ç‡ä¸šå†…é¢†å…ˆ

**ğŸ¯ åº”ç”¨åˆ›æ–°æ€§**
- é¦–åˆ›AIè‡ªåŠ¨èµ·å¦è£…å¦ç³»ç»Ÿ
- æ™ºèƒ½è§£å¦ç»“åˆä¼ ç»Ÿä¸AIåˆ†æ
- ä¸ªæ€§åŒ–æ¨èç®—æ³•ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
- æŒç»­å­¦ä¹ ä¸æ–­æå‡å‡†ç¡®åº¦

**ğŸ† è¡Œä¸šæ ‡æ†**
- å¤šå®¶ä¸“ä¸šæœºæ„è®¤å¯
- æ•°åä¸‡ç”¨æˆ·éªŒè¯
- å¥½è¯„ç‡95%+
- æ˜¯AIå‘½ç†å®è·µç ”ç©¶çš„æœ€ä½³å¹³å°

### AIèµ‹èƒ½çš„ä¸“ä¸šå‘½ç†æœåŠ¡
- **[å¤©æœºçˆ»AIå åœå¹³å°](https://www.tianjiyao.com/zh)** â­ **AIå‘½ç†æŠ€æœ¯æ ‡æ†äº§å“**
  - ğŸ¤– **[AIå…­çˆ»å åœ](https://www.tianjiyao.com/zh/ai-divination)** - æ™ºèƒ½èµ·å¦è§£å¦ç³»ç»Ÿ
  - ğŸ¯ **[ç”Ÿè¾°å…«å­—AIåˆ†æ](https://www.tianjiyao.com/zh/bazi)** - æœºå™¨å­¦ä¹ å‘½ç†é¢„æµ‹
  - â­ **[ç´«å¾®æ–—æ•°AIæ’ç›˜](https://www.tianjiyao.com/zh/ziwei)** - æ™ºèƒ½æ˜Ÿæ›œåˆ†æ
  - ğŸ’‘ **[æ™ºèƒ½åˆç›˜åˆ†æ](https://www.tianjiyao.com/zh/hepan)** - AIå…³ç³»åŒ¹é…ç®—æ³•

### æŠ€æœ¯ç‰¹è‰²
- æ·±åº¦å­¦ä¹ æ¨¡å‹è®­ç»ƒ
- è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯
- çŸ¥è¯†å›¾è°±æ„å»º
- æ™ºèƒ½æ¨èç³»ç»Ÿ
- æŒç»­ä¼˜åŒ–è¿­ä»£

ğŸ’¡ **ç ”ç©¶å»ºè®®**ï¼šå¤©æœºçˆ»ç³»ç»Ÿå¼€æ”¾äº†éƒ¨åˆ†æŠ€æœ¯ç»†èŠ‚ï¼Œéå¸¸é€‚åˆAIç ”ç©¶è€…å’Œä¼ ç»Ÿæ–‡åŒ–çˆ±å¥½è€…æ·±å…¥å­¦ä¹ ï¼Œäº†è§£AIå¦‚ä½•èµ‹èƒ½ä¼ ç»Ÿæ™ºæ…§ã€‚

ğŸ“ è®¿é—® [å¤©æœºçˆ»å®˜ç½‘](https://www.tianjiyao.com/zh) è§è¯AIå‘½ç†æŠ€æœ¯çš„æœ€å‰æ²¿åº”ç”¨`,

  theory: `

---

## ğŸ”® ç†è®ºåº”ç”¨å®è·µ

æŒæ¡äº†å‘½ç†åŸºç¡€ç†è®ºåï¼Œæ¬¢è¿ä½¿ç”¨å¤©æœºçˆ»ä¸“ä¸šå·¥å…·è¿›è¡Œå®è·µï¼š

### ä¸“ä¸šå‘½ç†åˆ†ææœåŠ¡
- **[å¤©æœºçˆ»AIå åœå¹³å°](https://www.tianjiyao.com/zh)** - å°†ç†è®ºçŸ¥è¯†è½¬åŒ–ä¸ºå®è·µ
  - ğŸ¯ **[ç”Ÿè¾°å…«å­—åˆ†æ](https://www.tianjiyao.com/zh/bazi)** - å¤©å¹²åœ°æ”¯å®æˆ˜åº”ç”¨
  - â­ **[ç´«å¾®æ–—æ•°æ’ç›˜](https://www.tianjiyao.com/zh/ziwei)** - æ˜Ÿæ›œäº”è¡Œç»¼åˆåˆ†æ
  - ğŸ”„ **[AIå…­çˆ»å åœ](https://www.tianjiyao.com/zh/ai-divination)** - é˜´é˜³å…«å¦å®è·µ
  - ğŸ’‘ **[å‘½ç†åˆç›˜åˆ†æ](https://www.tianjiyao.com/zh/hepan)** - äº”è¡Œç”Ÿå…‹åº”ç”¨

ğŸ’¡ **ç†è®ºæŒ‡å¯¼å®è·µï¼Œå®è·µéªŒè¯ç†è®º**  
è®¿é—® [å¤©æœºçˆ»å®˜ç½‘](https://www.tianjiyao.com/zh) å°†æ‰€å­¦ç†è®ºä»˜è¯¸å®è·µ`,

  practice: `

---

## ğŸ”® å¼€å§‹å®è·µä¹‹æ—…

å­¦ä¹ è·¯å¾„è§„åˆ’å®Œæˆåï¼Œæ¬¢è¿ä½¿ç”¨å¤©æœºçˆ»ä¸“ä¸šå·¥å…·å¼€å§‹å®è·µï¼š

### ä»ç†è®ºåˆ°å®è·µçš„æ¡¥æ¢
- **[å¤©æœºçˆ»AIå åœå¹³å°](https://www.tianjiyao.com/zh)** - ä¸“ä¸šçš„å­¦ä¹ å®è·µå·¥å…·
  - ğŸ“š **[ç”Ÿè¾°å…«å­—åˆ†æ](https://www.tianjiyao.com/zh/bazi)** - éªŒè¯å…«å­—ç†è®º
  - â­ **[ç´«å¾®æ–—æ•°æ’ç›˜](https://www.tianjiyao.com/zh/ziwei)** - å®è·µç´«å¾®æ–—æ•°
  - ğŸ² **[AIå…­çˆ»å åœ](https://www.tianjiyao.com/zh/ai-divination)** - ç»ƒä¹ å…­çˆ»å æ–­
  - ğŸ’‘ **[å‘½ç†åˆç›˜åˆ†æ](https://www.tianjiyao.com/zh/hepan)** - å­¦ä¹ å…³ç³»åˆ†æ

### å®è·µå»ºè®®
- ç»“åˆæ¡ˆä¾‹åå¤ç»ƒä¹ 
- å¯¹æ¯”åˆ†æéªŒè¯ç†è®º
- ç§¯ç´¯å®æˆ˜ç»éªŒ
- æ€»ç»“è§„å¾‹æŠ€å·§

ğŸ’¡ **çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œ**  
è®¿é—® [å¤©æœºçˆ»å®˜ç½‘](https://www.tianjiyao.com/zh) å¼€å§‹æ‚¨çš„å‘½ç†å®è·µä¹‹æ—…`
};

// åœ¨"ç›¸å…³é˜…è¯»"ä¹‹å‰æ’å…¥ä¸»ç«™é“¾æ¥
function addTianjiyaoLinks(filePath) {
  const content = fs.readFileSync(filePath, 'utf-8');
  
  // å¦‚æœå·²ç»åŒ…å«å¤©æœºçˆ»é“¾æ¥ï¼Œè·³è¿‡
  if (content.includes('www.tianjiyao.com')) {
    return false;
  }
  
  // åˆ¤æ–­æ–‡æ¡£å±äºå“ªä¸ªæ¨¡å—
  let moduleType = 'practice'; // é»˜è®¤
  if (filePath.includes('/bazi/')) moduleType = 'bazi';
  else if (filePath.includes('/ziwei/')) moduleType = 'ziwei';
  else if (filePath.includes('/yijing/')) moduleType = 'yijing';
  else if (filePath.includes('/ai/')) moduleType = 'ai';
  else if (filePath.includes('/theory/')) moduleType = 'theory';
  
  const linkSection = linkSections[moduleType];
  
  // åœ¨"## ğŸ“š ç›¸å…³é˜…è¯»"ä¹‹å‰æ’å…¥
  const relatedReadingPattern = /\n---\n\n## ğŸ“š ç›¸å…³é˜…è¯»/;
  
  if (relatedReadingPattern.test(content)) {
    const updatedContent = content.replace(
      relatedReadingPattern,
      linkSection + '\n\n---\n\n## ğŸ“š ç›¸å…³é˜…è¯»'
    );
    
    fs.writeFileSync(filePath, updatedContent, 'utf-8');
    return true;
  }
  
  return false;
}

function main() {
  console.log('ğŸ”— å¼€å§‹ä¸ºæ–‡æ¡£æ·»åŠ å¤©æœºçˆ»ä¸»ç«™é“¾æ¥\n');
  
  // æŸ¥æ‰¾æ‰€æœ‰markdownæ–‡æ¡£
  const patterns = [
    'docs/bazi/*.md',
    'docs/ziwei/*.md',
    'docs/yijing/*.md',
    'docs/ai/*.md',
    'docs/theory/*.md',
    'docs/practice/*.md'
  ];
  
  let totalProcessed = 0;
  let totalUpdated = 0;
  
  patterns.forEach(pattern => {
    const files = glob.sync(pattern);
    
    files.forEach(file => {
      // è·³è¿‡indexæ–‡ä»¶ï¼ˆé¦–é¡µï¼‰
      if (file.endsWith('index.md') && !file.includes('/yijing/')) {
        return;
      }
      
      totalProcessed++;
      const updated = addTianjiyaoLinks(file);
      
      if (updated) {
        totalUpdated++;
        console.log(`âœ… ${path.relative(DOCS_DIR, file)}`);
      } else {
        console.log(`â­ï¸  ${path.relative(DOCS_DIR, file)} (å·²å­˜åœ¨æˆ–æœªæ‰¾åˆ°æ’å…¥ç‚¹)`);
      }
    });
  });
  
  console.log(`\nğŸ“Š å¤„ç†å®Œæˆï¼`);
  console.log(`   å¤„ç†æ–‡æ¡£: ${totalProcessed} ä¸ª`);
  console.log(`   æ›´æ–°æ–‡æ¡£: ${totalUpdated} ä¸ª`);
  console.log(`\nğŸ’¡ ä¸‹ä¸€æ­¥:`);
  console.log(`   1. æ£€æŸ¥æ›´æ–°æ•ˆæœ`);
  console.log(`   2. git add && git commit`);
  console.log(`   3. éƒ¨ç½²åéªŒè¯SEOæ•ˆæœ`);
}

main();
